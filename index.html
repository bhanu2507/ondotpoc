<!DOCTYPE html>
<html>

<head>
    <title>ONDOT</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

    <!-- Isolated Version of Bootstrap, not needed if your site already uses Bootstrap -->
    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />-->
    <link rel="stylesheet" href="https://formden.com/static/cdn/bootstrap-iso.css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"
            />
    <script>
        var datam
        $(document).ready(function () {
            var date_input = $('input[name="date"]'); //our date input has the name "date"
            var container = $('.bootstrap-iso form').length > 0 ? $('.bootstrap-iso form').parent() : "body";
            var options = {
                format: 'mm/dd/yyyy',
                container: container,
                todayHighlight: true,
                autoclose: true,
            };
            date_input.datepicker(options);
        })

        function fun() {
            var fn = $("#fn").val()
            if(fn == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>First Name is empty</h1>";
                return;
            }
            var mn = $("#mn").val()
            if(mn == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>Middle Name is empty</h1>";
                return;
            }
            var ln = $("#ln").val()
            if(ln == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>Last Name is empty</h1>";
                return;
            }
            var phone = $("#phone").val()
            if(phone == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>Phone is empty</h1>";
                return;
            }
            var add1 = $("#add1").val()
            if(add1 == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>Add1 is empty</h1>";
                return;
            }
            var add2 = $("#add2").val()
            if(add2 == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>Add2 is empty</h1>";
                return;
            }
            var city = $("#city").val()
            if(city == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>City is empty</h1>";
                return;
            }
            var state = $("#state").val()
            if(state == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>state is empty</h1>";
                return;
            }
            var zip = $("#zip").val()
            if(zip == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>ZIP is empty</h1>";
                return;
            }
            var date = $("#date").val()
            if(date == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>Date is empty</h1>";
                return;
            }
            var ssn = $("#ssn").val()
            if(ssn == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>SSN Name is empty</h1>";
                return;
            }
            var es = $("#es").val()
            if(es == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>Employment status is empty</h1>";
                return;
            }
            var income = $("#income").val()
            if(income == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>Income is empty</h1>";
                return;
            }
            var ta = $("#ta").val()
            if(ta == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>Total Asset is empty</h1>";
                return;
            }
            var rent = $("#rent").val()
            if(rent == "")
            {
                document.getElementById("errors").innerHTML = "<h1 style='color:red'>Rent is empty</h1>";
                return;
            }
            datam = {
                "fn": fn,
                "ln":ln,
                "mn":mn,
                "phone":phone,
                "add1":add1,
                "add2":add2,
                "city":city,
                "state":state,
                "date":date,
                "zip":zip,
                "ssn":ssn,
                "es":es,
                "income":income,
                "ta":ta,
                "rent":rent
            }
            alert("hello" + fn + mn + ln + phone + add1 + add2 + city + state + zip + date + ssn + es + income + ta + rent)
            if (document.getElementById("confirmation").style.display === "none") {
                document.getElementById("confirmation").style.display = "block";
            }
            document.getElementById("container").style.display = "none";

            document.getElementById("confirmation").innerHTML = "<h1>Your details are as follows</h1><br/>" +
                    "First Name: " + fn + "<br/><br/>" +
                    "Middle Name: " + mn + "<br/><br/>" +
                    "Last Name: " + ln + "<br/><br/>" +
                    "Phone: " + phone + "<br/><br/>" +
                    "Address 1: " + add1 + "<br/><br/>" +
                    "Address 2: " + add2 + "<br/><br/>" +
                    "City: " + city + "<br/><br/>" +
                    "Zip: " + zip + "<br><br/>" +
                    "Date OF Birth: " + date + "<br/><br/>" +
                    "SSN: " + ssn + "<br/><br/>" +
                    "Employment Status: " + es + "<br/><br/>" +
                    "Total Asset: " + ta + "<br/><br/>" +
                    "Rent: " + rent + "<br/><br/>" +
                    '<input type="button" class="btn btn-success" value="Confirm" style="height:50px;width:40%;margin-right: auto;margin-left: auto" onclick="fun2()"/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;' +
                    '<input type="button" class="btn btn-danger" value="Edit" style="height:50px;width:40%;margin-right: auto;margin-left: auto" onclick="fun3()"/>'

        }
        function fun3() {
            document.getElementById("confirmation").style.display = "none";
            document.getElementById("container").style.display = "block";

        }


        function fun2() {
            URL = "https://bea34f12.ngrok.io/echo"
            datam = JSON.stringify(datam);

            var xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = callbackFunction(xmlhttp);
            xmlhttp.open("POST", URL, false);
            xmlhttp.setRequestHeader("Content-Type", "application/json");
            xmlhttp.setRequestHeader('Authorization', 'Basic ' + window.btoa('apiusername:apiuserpassword')); //in prod, you should encrypt user name and password and provide encrypted keys here instead
            xmlhttp.onreadystatechange = callbackFunction(xmlhttp);
            xmlhttp.send(datam);
            document.getElementById("confirmation").style.display = "none";
            var msg = JSON.parse(xmlhttp.responseText)

            document.getElementById("congrats").innerHTML = "<h1 style='color:green'>" + msg.speech + "</h1>"
        }

        function callbackFunction(xmlhttp) {
            //alert(xmlhttp.responseXML);
        }
        $(document).ready(function() {

            var navListItems = $('ul.setup-panel li a'),
                    allWells = $('.setup-content');

            allWells.hide();

            navListItems.click(function(e)
            {
                e.preventDefault();
                var $target = $($(this).attr('href')),
                        $item = $(this).closest('li');

                if (!$item.hasClass('disabled')) {
                    navListItems.closest('li').removeClass('active');
                    $item.addClass('active');
                    allWells.hide();
                    $target.show();
                }
            });

            $('ul.setup-panel li.active a').trigger('click');

            // DEMO ONLY //
            $('#activate-step-2').on('click', function(e) {
                $('ul.setup-panel li:eq(1)').removeClass('disabled');
                $('ul.setup-panel li a[href="#step-2"]').trigger('click');
                $(this).remove();
            })
        });


    </script>
</head>

<body>
<style>
    .main-header{
        color: #666;
        text-align: center;
        padding: 30px 0;

    }
    .main-header h1 span{
        border-bottom: 2px solid #9b9b9b;
        padding-bottom: 10px;
        font-size: 26px;;
    }
    .form-wizard-title{
        color: rgba(255, 137, 23, 0.91);
        font-size: 22px;
        text-align: left;
        margin-bottom: 10px;
        margin-top: -10px;
    }
    .btn-primary{
        background-color: rgba(255, 137, 23, 0.91);
        border-color:   rgba(255, 137, 23, 0.91);;
    }
    @media (min-width: 320px){
        .col-sm-5 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 41.666667%;
            flex: 0 0 41.666667%;
            max-width: 41.666667%;
        }

        .col-sm-2 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 16.666667%;
            flex: 0 0 16.666667%;
            max-width: 16.666667%;
        }
        .col-md-6 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 50%;
            flex: 0 0 50%;
            max-width: 50%;
        }
        .col-md-4 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 33.333333%;
            flex: 0 0 33.333333%;
            max-width: 33.333333%;
        }
        .col-md-8 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 66.666667%;
            flex: 0 0 66.666667%;
            max-width: 66.666667%;
        }
    }
</style>

<div class="main-header col-md-12">
    <h1><span>Ondot Credit Card Application</span></h1>
</div>

<div class="container">
    <div class="row form-group">
        <div class="col-md-12">
            <ul class="nav nav-pills nav-justified thumbnail setup-panel">
                <li class="active">
                    <a href="#step-1">
                    </a>
                </li>
                <li class="disabled">
                    <a href="#step-2">
                    </a>
                </li>
                <li class="disabled">
                    <a href="#step-3">
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <div class="row setup-content" id="step-1">

        <div class="col-md-12 col-xs-12 col-sm-12 well text-center">
            <div class="form-wizard-title">
                Step 1 of 2 - Where you are
            </div>
            <div class="form-row">
                <div class="form-group col-xs-5 col-sm-5">
                    <input type="text" class="form-control" id="fn" placeholder="First Name" required>
                </div>
                <div class="form-group  col-xs-2 col-sm-2">
                    <input type="text" class="form-control" id="mn" placeholder="MN" required>
                </div>
                <div class="form-group col-xs-5 col-sm-5">
                    <input type="text" class="form-control" id="ln" placeholder="Last Name" required="required">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-4">
                    <input type="text" class="form-control" id="phone" placeholder="Phone" required="required">
                </div>
                <div class="form-group col-md-8">
                    <input type="text" class="form-control" id="email" placeholder="Email Address" required="required">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-12">
                    <input type="text" class="form-control" id="add1" placeholder="Address1" required="required">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-12">
                    <input type="text" class="form-control" id="add2" placeholder="Address2" required="required">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-12">
                    <input type="text" class="form-control" id="city" placeholder="City" required="required">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-8">
                    <input type="text" class="form-control" id="state" placeholder="State" required="required">
                </div>
                <div class="form-group col-md-4">
                    <input type="text" class="form-control" id="zip" placeholder="Zip" required="required">
                </div>
            </div>

            <button id="activate-step-2" class="btn btn-primary btn-lg">Continue</button>
        </div>

    </div>
    <div class="row setup-content" id="step-2">

        <div class="col-md-12 col-xs-12 well">
            <div class="form-wizard-title">
                Step 2 of 2 - Who you are
            </div>

            <div id="container">
                <div class="form-row">
                    <div class="bootstrap-iso col-md-12" style="padding: 0">
                        <div class="form-group col-md-6 col-sm-6 col-xs-6" style="padding: 0 5px;">
                            <label for="date">Date of Birth</label>
                            <input class="form-control" id="date" name="date" placeholder="MM/DD/YYY" type="text" required="required" />
                        </div>
                        <div class="form-group col-md-6 col-sm-6 col-xs-6"  style="padding: 0 5px;">
                            <label for="ssn">SSN:</label>
                            <input type="text" class="form-control" id="ssn" placeholder="XXX-XX-XXXX" required="required">
                        </div>
                    </div>

                </div>
                <div class="form-row">
                    <div class="form-group col-md-12 col-xs-12 col-sm-12">
                        <label for="es">Employment Status:</label>
                        <input type="text" class="form-control" id="es" required="required">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-4 col-xs-4 col-sm-4">
                        <label for="income">Income:</label>
                        <input type="text" class="form-control" id="income"  placeholder="$0.00" required="required">
                    </div>

                    <div class="form-group col-md-4 col-xs-4 col-sm-4">
                        <label for="rent">Rent:</label>
                        <input type="text" placeholder="$0.00" class="form-control" id="rent" required="required">
                    </div>

                    <div class="form-group col-md-4 col-xs-4 col-sm-4">
                        <label for="ta">Total Assets:</label>
                        <input type="text" class="form-control" id="ta"  placeholder="$0.00" required="required">
                    </div>
                </div>
                <br>
                <div>
                    <input type="button" class="btn btn-success btn-block" value="Confirm"
                           onclick="fun()" />
                </div>
                <div id="errors"></div>
            </div>
        </div>

    </div>
    <!--    <div class="row setup-content" id="step-3">
            <div class="col-xs-12">
                <div class="col-md-12 well">
                    <h1 class="text-center"> STEP 3</h1>
                </div>
            </div>
        </div>-->
</div>


<div id="confirmation" style="height:50px;width:50%;margin-right: auto;margin-left: auto"></div>
</div>
<div id="congrats" style="height:50px;width:50%;margin-right: auto;margin-left: auto"></div>
<br><br><br><br>

</body>

</html>